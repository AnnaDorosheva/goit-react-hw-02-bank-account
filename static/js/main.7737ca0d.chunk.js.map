{"version":3,"sources":["components/Balance/Balance.module.css","components/TransactionHistory/TransactionHistory.module.css","components/Controls/Controls.js","components/Balance/Balance.js","components/TransactionHistory/TransactionHistory.js","components/Dashboard/Dashboard.js","index.js","components/Controls/Controls.module.css"],"names":["module","exports","Controls","handleWithdraw","handleDeposit","amount","handleTakeValue","className","s","controls","input","type","name","value","onChange","button","onClick","Balance","balance","amountDeposit","amoutntWithdraw","role","aria-label","TransactionHistory","transactions","history","thead","th","map","item","key","id","td","date","notifyA","toast","error","containerId","notifyB","Dashboard","state","deposit","withdraw","handleTakeAmount","e","setState","target","cleanInputAmount","step","Number","itemTransaction","shortid","generate","Date","toLocaleString","hour12","localStorage","getItem","this","JSON","parse","prevProps","prevState","setItem","stringify","deposit1","reduce","acc","el","withdraw1","console","log","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7737ca0d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__1Cpse\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"TransactionHistory_history__GkB-f\",\"th\":\"TransactionHistory_th__1eeEH\",\"td\":\"TransactionHistory_td__vslbM\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Controls.module.css';\r\n\r\nconst Controls = ({handleWithdraw,  handleDeposit, amount,  handleTakeValue}) => (\r\n\r\n  <section className={s.controls}>\r\n  <input className={s.input} type=\"number\" name=\"amount\" value={amount} onChange={handleTakeValue}/>\r\n  <button className={s.button} type=\"button\" name=\"Deposit\" onClick={handleDeposit}>Deposit</button>\r\n  <button className={s.button} type=\"button\" name=\"Withdrow\" onClick={handleWithdraw}>Withdraw</button>\r\n</section>\r\n\r\n);\r\n\r\nControls.propTypes = {\r\n  handleDeposit: PropTypes.func.isRequired,\r\n  handleWithdraw: PropTypes.func.isRequired,\r\n  handleTakeValue: PropTypes.func.isRequired,\r\n  amount: PropTypes.any.isRequired\r\n}\r\nexport default Controls;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Balance.module.css\";\r\n\r\nconst Balance = ({ balance, amountDeposit, amoutntWithdraw }) => (\r\n  <section className={s.balance}>\r\n    <span>\r\n      <span role=\"img\" aria-label=\"money bag\">\r\n      💰\r\n      </span>\r\n      {amountDeposit}$\r\n    </span>\r\n    <span>\r\n    <span role='img' aria-label=\"loudly crying face\">\r\n    😭\r\n    </span>{amoutntWithdraw}$</span>\r\n    <span>Balance: {balance}$</span>\r\n  </section>\r\n);\r\n\r\nBalance.propTypes = {\r\n  balance: PropTypes.number.isRequired,\r\n  amountDeposit: PropTypes.any.isRequired,\r\n  amoutntWithdraw: PropTypes.any.isRequired\r\n};\r\nexport default Balance;\r\n","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport s from \"./TransactionHistory.module.css\";\r\n\r\nconst TransactionHistory = ({ transactions }) => {\r\n  return (\r\n  <table className={s.history}>\r\n    <thead className={s.thead}>\r\n      <tr>\r\n        <th className={s.th}>Transaction</th>\r\n        <th className={s.th}>Amount</th>\r\n        <th className={s.th}>Date</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {transactions.map(item => (\r\n        <tr key={item.id}>\r\n          <td className={s.td}>{item.type}</td>\r\n          <td className={s.td}>{item.amount}$</td>\r\n          <td className={s.td}>{item.date}</td>\r\n        </tr>\r\n      ))}\r\n    </tbody>\r\n  </table>\r\n)};\r\n\r\nTransactionHistory.propTypes = {\r\n  transactions: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.string.isRequired,\r\n      type: PropTypes.string.isRequired,\r\n      amount: PropTypes.string.isRequired,\r\n      date: PropTypes.date,\r\n    }),\r\n  ).isRequired\r\n}\r\nexport default TransactionHistory;\r\n","import React, { Component } from \"react\";\r\nimport shortid from \"shortid\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Controls from \"../Controls/Controls\";\r\nimport Balance from \"../Balance/Balance\";\r\nimport TransactionHistory from \"../TransactionHistory/TransactionHistory\";\r\n\r\nconst notifyA = () =>\r\n  toast.error(\"Введите сумму для проведения операции!\", { containerId: \"A\" });\r\nconst notifyB = () =>\r\n  toast.error(\"На счету недостаточно средств для проведения операции!\", {\r\n    containerId: \"B\"\r\n  });\r\n\r\nexport default class Dashboard extends Component {\r\n  state = {\r\n    transactions: [],\r\n    balance: 0,\r\n    amount: \"\",\r\n    deposit: 0,\r\n    withdraw: 0\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (localStorage.getItem(\"newTransaction\")) {\r\n      this.setState({\r\n        transactions: JSON.parse(localStorage.getItem(\"newTransaction\")),\r\n        balance: JSON.parse(localStorage.getItem(\"newBalance\")),\r\n        deposit: JSON.parse(localStorage.getItem(\"newDeposit\")),\r\n        withdraw: JSON.parse(localStorage.getItem(\"newWithdraw\"))\r\n      });\r\n    }\r\n  }\r\n\r\n  handleTakeAmount = e => {\r\n    this.setState({\r\n      amount: e.target.value\r\n    });\r\n  };\r\n\r\n  handleDeposit = e => {\r\n    const { balance, amount, deposit } = this.state;\r\n\r\n    if (amount === \"0\" || amount === \"\") {\r\n      notifyA();\r\n      this.cleanInputAmount();\r\n    } else {\r\n      const step = balance + Number(amount);\r\n      this.setState(state => ({\r\n        balance: step,\r\n        transactions: [...state.transactions, itemTransaction],\r\n        deposit: deposit + Number(itemTransaction.amount)\r\n      }));\r\n\r\n      const itemTransaction = {\r\n        type: \"DEPOSIT\",\r\n        id: shortid.generate(),\r\n        amount: amount,\r\n        date: new Date().toLocaleString(\"en-US\", { hour12: false })\r\n      };\r\n      this.cleanInputAmount();\r\n    }\r\n  };\r\n\r\n  handleWithdraw = e => {\r\n    const { balance, amount, withdraw } = this.state;\r\n\r\n    if (amount > balance) {\r\n      notifyB();\r\n      this.cleanInputAmount();\r\n    } else if (amount === \"0\" || amount === \"\") {\r\n      notifyA();\r\n      this.cleanInputAmount();\r\n    } else {\r\n      const step = balance - Number(amount);\r\n      this.setState(state => ({\r\n        balance: step,\r\n        transactions: [...state.transactions, itemTransaction],\r\n        withdraw: withdraw + Number(itemTransaction.amount)\r\n      }));\r\n\r\n      const itemTransaction = {\r\n        type: \"WITHDRAW\",\r\n        id: shortid.generate(),\r\n        amount: amount,\r\n        date: new Date().toLocaleString(\"en-US\", { hour12: false })\r\n      };\r\n      this.cleanInputAmount();\r\n    }\r\n  };\r\n\r\n  cleanInputAmount = () => {\r\n    this.setState(state => ({\r\n      amount: \"\"\r\n    }));\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.transactions !== this.state.transactions) {\r\n      localStorage.setItem(\r\n        \"newTransaction\",\r\n        JSON.stringify(this.state.transactions)\r\n      );\r\n    }\r\n    if (prevState.balance !== this.state.balance) {\r\n      localStorage.setItem(\"newBalance\", JSON.stringify(this.state.balance));\r\n    }\r\n    if (prevState.deposit !== this.state.deposit) {\r\n      localStorage.setItem(\"newDeposit\", JSON.stringify(this.state.deposit));\r\n    }\r\n    if (prevState.withdraw !== this.state.withdraw) {\r\n      localStorage.setItem(\"newWithdraw\", JSON.stringify(this.state.withdraw));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { amount, transactions, balance, deposit, withdraw } = this.state;\r\n    const deposit1 = transactions.reduce((acc, el) => {\r\n      if (el.type === \"DEPOSIT\") {\r\n        return acc + Number(el.amount);\r\n      }\r\n      return acc;\r\n    }, 0);\r\n\r\n    const withdraw1 = transactions.reduce((acc, el) => {\r\n      if (el.type === \"WITHDRAW\") {\r\n        return acc + +el.amount;\r\n      }\r\n      return acc;\r\n    }, 0);\r\n\r\n    console.log(\"deposit1\", deposit1);\r\n    console.log(\"withdraw1\", withdraw1);\r\n\r\n    return (\r\n      <div className=\"dashboard\">\r\n        <ToastContainer />\r\n        <Controls\r\n          handleDeposit={this.handleDeposit}\r\n          handleWithdraw={this.handleWithdraw}\r\n          amount={amount}\r\n          handleTakeValue={this.handleTakeAmount}\r\n        />\r\n        <Balance\r\n          balance={balance}\r\n          amountDeposit={deposit1}\r\n          amoutntWithdraw={withdraw1}\r\n        />\r\n        <TransactionHistory transactions={transactions} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Dashboard from './components/Dashboard/Dashboard';\r\n\r\nReactDOM.render( <Dashboard />, document.getElementById('root'));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__2CI7n\",\"input\":\"Controls_input__2fOiz\",\"button\":\"Controls_button__1uXrj\"};"],"sourceRoot":""}